{"version":3,"sources":["../src/disclosure.js"],"names":["define","$","ajax","init","cmid","userid","click","flag","is","call","methodname","args"],"mappings":"AA0BAA,OAAM,oCAAC,CAAC,QAAD,CAAW,WAAX,CAAD,CACF,SAASC,CAAT,CAAYC,CAAZ,CAAkB,CACd,MAAO,CASHC,IAAI,CAAE,cAASC,CAAT,CAAeC,CAAf,CAAuB,CACzBJ,CAAC,CAAC,yBAAD,CAAD,CAA6BK,KAA7B,CAAmC,UAAW,CAC1C,GAAIC,CAAAA,CAAI,CAAG,CAAX,CACA,GAAIN,CAAC,CAAC,yBAAD,CAAD,CAA6BO,EAA7B,CAAgC,UAAhC,CAAJ,CAAiD,CAC7CD,CAAI,CAAG,CACV,CACDL,CAAI,CAACO,IAAL,CACI,CAAC,CACGC,UAAU,CAAE,mCADf,CAEGC,IAAI,CAAE,CACFP,IAAI,CAAEA,CADJ,CAEFC,MAAM,CAAEA,CAFN,CAGFE,IAAI,CAAEA,CAHJ,CAFT,CAAD,CADJ,CAUH,CAfD,CAgBH,CA1BE,CA4BV,CA9BC,CAAN","sourcesContent":["/**\n * This file is part of Moodle - http://moodle.org/\n *\n * Moodle is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * Moodle is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n *\n * @package   plagiarism_safeassign\n * @author    Juan Felipe Martinez\n * @copyright Copyright (c) 2017 Open LMS (https://www.openlms.net)\n * @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n/**\n * JS code to listen the disclosure agreement checkbox in an assignment\n * configured with SafeAssign.\n */\ndefine(['jquery', 'core/ajax'],\n    function($, ajax) {\n        return {\n\n            /**\n             * Detects the change of from the  disclosure agreement\n             * checkbox and sends the flag state to a webservice\n             * to be stored in the DB.\n             * @param {int} cmid - course module ID\n             * @param {int} userid - user ID\n             */\n            init: function(cmid, userid) {\n                $(\"input[name = agreement]\").click(function() {\n                    var flag = 0;\n                    if ($(\"input[name = agreement]\").is(':checked')) {\n                        flag = 1;\n                    }\n                    ajax.call(\n                        [{\n                            methodname: 'plagiarism_safeassign_update_flag',\n                            args: {\n                                cmid: cmid,\n                                userid: userid,\n                                flag: flag\n                            }\n                        }]\n                    );\n                });\n            }\n        };\n    }\n);\n"],"file":"disclosure.min.js"}